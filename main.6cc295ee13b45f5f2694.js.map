{"version":3,"sources":["webpack:///./templates/homePageMarkup.hbs","webpack:///./templates/joke.hbs","webpack:///./services/fetcher.js","webpack:///./js/components/localStorage/storageMethods.js","webpack:///./js/components/homePage/jokes.js","webpack:///./js/components/localStorage/favouriteJokes.js","webpack:///./services/refs.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext","stack1","alias1","alias2","alias4","program","baseURL","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","refs","jokesList","document","querySelector","radioRandom","radioCategories","radioSearch","getJokeBtn","categoriesList","categoriesListItem","searchInputWrap","categoriesItem","favOpenImg","mainSection","logo","addEventListener","checked","axios","get","then","response","url","slice","markup","jokeTemplate","innerHTML","map","category","join","handlePickCategory","searchJoke","handleAddToFavourite","localStorageJokesList","storageMethods","length","joke","renderFavouriteJokes","classList","add","handleCloseFavourites","renderHomePage","e","target","nodeName","textContent","parentNode","fetchJokeByCategory","handleShowJokeFromCategory","query","fetchQueryJoke","result","getJokeBySearch","value","closeFavImg","remove","homePageTemplate","jokeButton","log"],"mappings":"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","file":"main.6cc295ee13b45f5f2694.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<h1 class=\\\"title\\\">\\r\\n  <span class=\\\"title__span\\\">Hey!</span>Let's try to find a joke for you:\\r\\n</h1>\\r\\n<label><input name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"random\\\" />Random</label>\\r\\n<div class=\\\"category__input\\\">\\r\\n  <label\\r\\n    ><input\\r\\n      name=\\\"radio\\\"\\r\\n      type=\\\"radio\\\"\\r\\n      class=\\\"category__input_categories categories\\\"\\r\\n    />From categories</label\\r\\n  >\\r\\n  <ul class=\\\"categories__list\\\"></ul>\\r\\n</div>\\r\\n\\r\\n<label><input name=\\\"radio\\\" type=\\\"radio\\\" class=\\\"search\\\" />Search</label>\\r\\n<div class=\\\"searchInputWrap\\\"></div>\\r\\n<button class=\\\"button\\\" type=\\\"submit\\\">Get a joke</button>\\r\\n</section>\\r\\n<section>\\r\\n<ul class=\\\"jokes__list\\\"></ul>\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <p class=\\\"jokes__item_category\\\">\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"categories\") || (depth0 != null ? lookupProperty(depth0,\"categories\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"categories\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":38},\"end\":{\"line\":13,\"column\":52}}}) : helper)))\n    + \"</p>\\r\\n\";\n},\"3\":function(container,depth0,helpers,partials,data) {\n    return \"      <p class=\\\"jokes__item_category\\\">no category</p>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"jokes__item\\\">\\r\\n  <button class=\\\"heart\\\"></button>\\r\\n  <div class=\\\"jokes__item_wrap\\\">\\r\\n    <div class=\\\"jokes__item_url-wrap\\\">\\r\\n      <span \\\"jokes__item_id\\\">ID:</span><a target=\\\"_blank\\\" href=\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":63},\"end\":{\"line\":5,\"column\":70}}}) : helper)))\n    + \" class=\\\"jokes__item_link\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":96},\"end\":{\"line\":5,\"column\":103}}}) : helper)))\n    + \"</a>\\r\\n    </div>\\r\\n    <div class=\\\"jokes__item_text-wrap\\\">\\r\\n      <p class=\\\"jokes__item_text\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"value\") || (depth0 != null ? lookupProperty(depth0,\"value\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"value\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":34},\"end\":{\"line\":8,\"column\":43}}}) : helper)))\n    + \"</p>\\r\\n    </div>\\r\\n    <p class=\\\"jokes__item_update\\\">Last update: \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"created_at\") || (depth0 != null ? lookupProperty(depth0,\"created_at\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"created_at\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":47},\"end\":{\"line\":10,\"column\":61}}}) : helper)))\n    + \"</p>\\r\\n    <div class=\\\"jokes__item_category-wrap\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"if\").call(alias1,((stack1 = (depth0 != null ? lookupProperty(depth0,\"categories\") : depth0)) != null ? lookupProperty(stack1,\"length\") : stack1),{\"name\":\"if\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.program(3, data, 0),\"data\":data,\"loc\":{\"start\":{\"line\":12,\"column\":6},\"end\":{\"line\":16,\"column\":13}}})) != null ? stack1 : \"\")\n    + \"    </div>\\r\\n  </div>\\r\\n</li>\";\n},\"useData\":true});","import axios from 'axios'\r\n\r\nconst baseURL = \"https://api.chucknorris.io/jokes\"\r\nconst random = \"/random\"\r\nconst unit = \"?category=\"\r\nconst categoriesURL = \"https://api.chucknorris.io/jokes/categories\"\r\nconst search = \"/search?query=\"\r\n\r\nexport const fetchRandomJoke = () => axios.get(baseURL + random)\r\nexport const fetchJokeByCategory = (category) => axios.get(baseURL + random + unit + category);\r\nexport const fetchCategories = () => axios.get(categoriesURL)\r\nexport const fetchQueryJoke = (query) => axios.get(baseURL + search + query)\r\n\r\n","const load = key => {\r\n  try {\r\n    const serializedState = localStorage.getItem(key);\r\n\r\n    return serializedState === null ? undefined : JSON.parse(serializedState);\r\n  } catch (err) {\r\n    console.error('Get state error: ', err);\r\n  }\r\n};\r\n\r\nconst save = (key, value) => {\r\n  try {\r\n    const serializedState = JSON.stringify(value);\r\n    localStorage.setItem(key, serializedState);\r\n  } catch (err) {\r\n    console.error('Set state error: ', err);\r\n  }\r\n};\r\n\r\nexport default { load, save };\r\n","import {\r\n  fetchRandomJoke,\r\n  fetchJokeByCategory,\r\n  fetchCategories,\r\n  fetchQueryJoke,\r\n} from '../../../services/fetcher';\r\nimport jokeTemplate from '../../../templates/joke.hbs';\r\nimport homePageTemplate from '../../../templates/homePageMarkup.hbs';\r\nimport { addFavourite } from '../localStorage/favouriteJokes';\r\nimport { renderFavouriteJokes } from '../localStorage/favouriteJokes';\r\n\r\nconst refs = {\r\n  jokesList: document.querySelector('.jokes__list'),\r\n  radioRandom: document.querySelector('.random'),\r\n  radioCategories: document.querySelector('.categories'),\r\n  radioSearch: document.querySelector('.search'),\r\n  getJokeBtn: document.querySelector('.button'),\r\n  categoriesList: document.querySelector('.categories__list'),\r\n  categoriesListItem: document.querySelector('.categories__list_item'),\r\n  searchInputWrap: document.querySelector('.searchInputWrap'),\r\n  categoriesItem: document.querySelector('.categoriesItem'),\r\n  favOpenImg: document.querySelector('.open-fav'),\r\n  mainSection: document.querySelector('.select'),\r\n  logo: document.querySelector('.logo'),\r\n};\r\n\r\nrefs.getJokeBtn.addEventListener('click', handleShowJoke);\r\nrefs.radioCategories.addEventListener('input', handleGetCategories);\r\nrefs.radioSearch.addEventListener('input', handleShowSearchInput);\r\nrefs.jokesList.addEventListener('click', handleAddToFavourite);\r\nrefs.radioRandom.addEventListener('input', handleClear);\r\nrefs.favOpenImg.addEventListener('click', handleOpenFavourites);\r\nrefs.logo.addEventListener('click', renderHomePage);\r\n\r\nexport let currentJoke = {};\r\n\r\n// random joke\r\n\r\nfunction getRandomJoke() {\r\n  fetchRandomJoke().then(response => {\r\n    response.data.url.slice(0, 8);\r\n    currentJoke = response.data;\r\n    const markup = jokeTemplate(response.data);\r\n    refs.jokesList.innerHTML = markup;\r\n  });\r\n}\r\n\r\nfunction handleShowJoke() {\r\n  refs.radioRandom.checked && getRandomJoke();\r\n}\r\n\r\n// categories joke\r\n\r\nfunction handleGetCategories() {\r\n  fetchCategories().then(response => {\r\n    const markup = response.data\r\n      .map(\r\n        category =>\r\n          `<li class=\"categories__list_item\"><span class=\"categoriesItem\">${category}</span></li>`,\r\n      )\r\n      .join('');\r\n    refs.categoriesList.innerHTML = markup;\r\n  });\r\n  refs.categoriesList.addEventListener('click', handlePickCategory);\r\n  refs.searchInputWrap.innerHTML = '';\r\n}\r\n\r\nfunction handlePickCategory(e) {\r\n  if (e.target.nodeName === 'SPAN') {\r\n    const category = e.target.textContent;\r\n    const span = e.target.parentNode;\r\n    span.classList.add('active');\r\n    refs.getJokeBtn.addEventListener(\r\n      'click',\r\n      handleShowJokeFromCategory(category),\r\n    );\r\n  }\r\n}\r\n\r\nfunction handleShowJokeFromCategory(category) {\r\n  fetchJokeByCategory(category).then(data => {\r\n    currentJoke = data.data;\r\n    const markup = jokeTemplate(data.data);\r\n    refs.jokesList.innerHTML = markup;\r\n  });\r\n}\r\n\r\n// search joke\r\n\r\nfunction handleShowSearchInput() {\r\n  const input = `<input class=\"searchInput\" placeholder=\"free text search...\" type=\"text\">`;\r\n  refs.searchInputWrap.innerHTML = input;\r\n  const searchInput = document.querySelector('.searchInput');\r\n  searchInput.addEventListener('change', searchJoke);\r\n  refs.categoriesList.innerHTML = '';\r\n}\r\n\r\nfunction searchJoke(e) {\r\n  const query = e.target.value;\r\n  getJokeBySearch(query);\r\n}\r\n\r\nfunction getJokeBySearch(query) {\r\n  fetchQueryJoke(query).then(data => {\r\n    currentJoke = data.data.result;\r\n    const joke = currentJoke.map(joke => jokeTemplate(joke)).join('');\r\n    refs.jokesList.innerHTML = joke;\r\n    refs.jokesList.addEventListener('click', handleAddToFavourite);\r\n  });\r\n}\r\n\r\nfunction handleClear() {\r\n  refs.categoriesList.innerHTML = '';\r\n  refs.searchInputWrap.innerHTML = '';\r\n}\r\n\r\n// favourites\r\n\r\nfunction handleAddToFavourite(e) {\r\n  if (e.target.nodeName === 'BUTTON') {\r\n    const button = document.querySelector('.heart');\r\n    button.classList.add('heart-fill');\r\n  }\r\n}\r\n\r\nfunction handleOpenFavourites() {\r\n  renderFavouriteJokes();\r\n  refs.favOpenImg.classList.add('close-fav');\r\n  const closeFavImg = document.querySelector('.close-fav');\r\n  closeFavImg.addEventListener('click', handleCloseFavourites);\r\n}\r\n\r\nfunction handleCloseFavourites() {\r\n  const closeFavImg = document.querySelector('.close-fav');\r\n  closeFavImg.classList.remove('close-fav');\r\n  closeFavImg.classList.add('open-fav');\r\n  renderHomePage();\r\n}\r\n\r\nfunction renderHomePage() {\r\n  refs.mainSection.innerHTML = homePageTemplate();\r\n  const jokeButton = document.querySelector('.button');\r\n  const random = document.querySelector('.random');\r\n  jokeButton.addEventListener('click', () => console.log(111));\r\n}\r\n","import storageMethods from './storageMethods';\r\nimport { currentJoke } from '../homePage/jokes';\r\nimport jokeTemplate from '../../../templates/joke.hbs';\r\n\r\nlet favouriteList = [];\r\n\r\nexport function addFavourite() {\r\n  const jokes = storageMethods.load('jokes');\r\n  if (jokes) {\r\n    favouriteList.push(...jokes);\r\n    if (favouriteList.find(joke => joke.id === currentJoke.id)) {\r\n      favouriteList = favouriteList.filter(joke => joke.id !== currentJoke.id);\r\n    } else favouriteList.push(currentJoke);\r\n  } else favouriteList.push(currentJoke);\r\n  storageMethods.save('jokes', favouriteList);\r\n}\r\n\r\nexport function renderFavouriteJokes() {\r\n  const localStorageJokesList = storageMethods.load('jokes');\r\n  if (localStorageJokesList.length > 0) {\r\n    const markup = localStorageJokesList\r\n      .map(joke => jokeTemplate(joke))\r\n      .join('');\r\n    const select = document.querySelector('.select');\r\n    select.innerHTML = markup;\r\n  }\r\n}\r\n","export const refs = {\r\n    jokesList: document.querySelector('.jokes__list'),\r\n    radioRandom: document.querySelector('.random'),\r\n    radioCategories: document.querySelector('.categories'),\r\n    radioSearch: document.querySelector('.search'),\r\n    getJokeBtn: document.querySelector('.button'),\r\n    categoriesList: document.querySelector('.categories__list'),\r\n    categoriesListItem: document.querySelector('.categories__list_item'),\r\n    searchInputWrap: document.querySelector('.searchInputWrap'),\r\n    categoriesItem: document.querySelector('.categoriesItem'),\r\n    favOpenImg: document.querySelector('.open-fav'),\r\n  };\r\n  "],"sourceRoot":""}